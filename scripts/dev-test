#!/usr/bin/env pwsh
$ErrorActionPreference = 'Stop'

$repoRoot = Resolve-Path (Join-Path $PSScriptRoot '..')

Write-Host 'Tests backend...'
dotnet test (Join-Path $repoRoot 'BikeVoyageur.sln')

Write-Host 'Lint + tests frontend...'
Push-Location (Join-Path $repoRoot 'frontend')
npm run lint
npm run test
npm run build
Pop-Location
